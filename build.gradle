description = "Easy for Common: Build"

// Gradle files to be applied:
ext {
    gradles = [
            utils         : "${rootProject.rootDir}/buildSrc/utils.gradle",
            repositories  : "${rootProject.rootDir}/buildSrc/repositories.gradle",
            deployJar     : "${rootProject.rootDir}/buildSrc/deploy-jar.gradle",
            deployPlatform: "${rootProject.rootDir}/buildSrc/deploy-platform.gradle",
            compile       : "${rootProject.rootDir}/buildSrc/compile.gradle",
            passwords     : "${rootProject.rootDir}/buildSrc/passwords.gradle",
            versions      : "${rootProject.rootDir}/buildSrc/versions.gradle",
    ]
}

apply from: gradles.utils
apply from: gradles.versions

ext {
    isSnapshot = isEnable(version)
}

apply from: gradles.passwords

allprojects { p ->
    processProject(p)
}

subprojects { p ->
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

def processProject(Project project) {
    project.group = versions.group
    if (project == rootProject) {
        println("Configure root ${project.group}:${project.name}:${project.version}")
    } else {
        println("Configure ${project.group}:${project.name}:${project.version}")
    }
}